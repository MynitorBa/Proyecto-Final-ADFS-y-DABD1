<div class="site-container">
  <app-encabezado></app-encabezado>

  <main class="content">
    <header class="page-title">
      <h1>Checkout</h1>
      <div class="divider"></div>
      <p class="subtitle">Revisa tu compra antes de confirmar</p>
    </header>

    <div class="checkout-layout">
      <!-- Columna izquierda - Items del carrito -->
      <section class="cart-items">
        <h2>Tu Carrito</h2>
        
        <div class="empty-cart" *ngIf="itemsCarrito.length === 0">
          <p>No tienes items en tu carrito</p>
          <a routerLink="/reservar" class="btn-primary">Ver Paquetes</a>
        </div>

        <div class="cart-card" *ngFor="let item of itemsCarrito; let i = index">
          <div class="cart-header">
            <h3>{{item.nombre}}</h3>
            <button class="btn-remove" (click)="eliminarItem(i)">
              <svg viewBox="0 0 24 24" width="18" height="18">
                <path fill="currentColor" d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"/>
              </svg>
            </button>
          </div>
          
          <p class="cart-description">{{item.descripcion}}</p>
          
          <div class="cart-details">
            <div class="detail-item">
              <small>Destino</small>
              <p>{{item.destino}}</p>
            </div>
            <div class="detail-item">
              <small>Duración</small>
              <p>{{item.duracion}}</p>
            </div>
            <div class="detail-item">
              <small>Pasajeros</small>
              <p>{{item.pasajeros}}</p>
            </div>
            <div class="detail-item">
              <small>Precio unitario</small>
              <p>Q{{item.precioUnitario.toFixed(2)}}</p>
            </div>
          </div>

          <div class="cart-subtotal">
            <span>Subtotal:</span>
            <span class="amount">Q{{item.subtotal.toFixed(2)}}</span>
          </div>
        </div>
      </section>

      <!-- Columna derecha - Resumen de compra -->
      <aside class="purchase-summary">
        <h2>Resumen de Compra</h2>
        
        <div class="summary-card">
          <div class="summary-row">
            <span>Subtotal</span>
            <span>Q{{subtotal.toFixed(2)}}</span>
          </div>
          
          <div class="summary-row">
            <span>Impuestos (12%)</span>
            <span>Q{{impuestos.toFixed(2)}}</span>
          </div>
          
          <div class="divider-line"></div>
          
          <div class="summary-row total-row">
            <span>Total a Pagar</span>
            <span class="amount">Q{{total.toFixed(2)}}</span>
          </div>

          <button 
            class="btn-confirm" 
            [disabled]="itemsCarrito.length === 0"
            (click)="confirmarCompra()">
            Confirmar Compra
          </button>

          <div class="action-links">
            <a routerLink="/reservar" class="link-secondary">
              ← Seguir comprando
            </a>
            <a routerLink="/mis-reservaciones" class="link-secondary">
              Ver mis reservas →
            </a>
          </div>
        </div>

        <div class="payment-info">
          <h3>Métodos de pago aceptados</h3>
          <div class="payment-methods">
            <span class="badge">Visa</span>
            <span class="badge">Mastercard</span>
            <span class="badge">Efectivo</span>
            <span class="badge">Transferencia</span>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <app-piepagina></app-piepagina>
</div>